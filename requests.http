# Работаем через Postman.
# https://skills-up.postman.co/workspace/skills-up~532ccf51-bc2b-4914-ac2d-6ad0831f096c/overview

# При работе через Swagger: http://127.0.0.1:8000/docs/swagger/
# Token для Swagger:        Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODExNjg5LCJpYXQiOjE3MDcyNzU2ODksImp0aSI6ImE5YzA4OWM0NGUzZjQxZmE5MTczMGM2N2M0NDQ5ZGVjIiwidXNlcl9pZCI6Mn0.ytzpZSjlrl79P4EKltMLrHLSQlLuAcXMLPDV34q7PrQ


# 1. USER (создание, токен, проверка)

### Создание Юзера
POST http://localhost:8000/api/v1/users/
Content-Type: application/json

{
  "email": "admin15@admin.org",
  "password": "develop12345"
}

### Создать TOKEN для Юзера
POST http://localhost:8000/api/v1/auth/jwt/create/
Content-Type: application/json

{
  "email": "admin15@admin.org",
  "password": "develop12345"
}

### Проверка данных Юзера
GET http://localhost:8000/api/v1/users/me/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODE0OTMwLCJpYXQiOjE3MDcyNzg5MzAsImp0aSI6IjkzODBiNGZhYTkzODRkOGRiNjlmNGJhOTkzYjQwMWI2IiwidXNlcl9pZCI6M30.4MzaMQXHXLfmYk1ZxsZjy7d8StYgVZUsflGISJ_C_a4


### Проверка самого Токена
https://jwt.io/
#*********************************************************************************************



# 2. COURSES (Просмотр всех курсов)

### Без авторизации выводится весь список действующих курсов, is_selible=True. При авторизации - добавляются те курсы, которые уже куплены текущим юзером)
GET http://localhost:8000/api/v1/courses/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODE0OTMwLCJpYXQiOjE3MDcyNzg5MzAsImp0aSI6IjkzODBiNGZhYTkzODRkOGRiNjlmNGJhOTkzYjQwMWI2IiwidXNlcl9pZCI6M30.4MzaMQXHXLfmYk1ZxsZjy7d8StYgVZUsflGISJ_C_a4


# 3. ДИНАМИЧЕСКИЙ ПРОСМОТР с фильтрацией и исключением/добавлением полей:

### 3.1. Исключаем поле "description"
GET http://localhost:8000/api/v1/courses/?exclude[]=description
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE

### 3.2. Добавляем поле
GET http://localhost:8000/api/v1/courses/?exclude[]=description&include[]=lessons.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.3. Добавляем вложенную группу Videos
GET http://localhost:8000/api/v1/courses/?include[]=lessons.videos.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.4. Добавляем вложенную группу Videos
GET http://localhost:8000/api/v1/courses/?include[]=lessons.videos.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.5. Добавили вложенного автора
GET http://localhost:8000/api/v1/courses/?include[]=author.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE

###
POST http://localhost:8000/api/v1/courses/1/toggle-favourite/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODE0OTMwLCJpYXQiOjE3MDcyNzg5MzAsImp0aSI6IjkzODBiNGZhYTkzODRkOGRiNjlmNGJhOTkzYjQwMWI2IiwidXNlcl9pZCI6M30.4MzaMQXHXLfmYk1ZxsZjy7d8StYgVZUsflGISJ_C_a4



# 4. PURCHESES:


### 4.1 Просмотр всех покупок + описание курсов
GET http://localhost:8000/api/v1/purchases/?include[]=course.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODE0OTMwLCJpYXQiOjE3MDcyNzg5MzAsImp0aSI6IjkzODBiNGZhYTkzODRkOGRiNjlmNGJhOTkzYjQwMWI2IiwidXNlcl9pZCI6M30.4MzaMQXHXLfmYk1ZxsZjy7d8StYgVZUsflGISJ_C_a4


### 4.2 Добавление курса в покупку
POST http://localhost:8000/api/v1/purchases/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4ODE0OTMwLCJpYXQiOjE3MDcyNzg5MzAsImp0aSI6IjkzODBiNGZhYTkzODRkOGRiNjlmNGJhOTkzYjQwMWI2IiwidXNlcl9pZCI6M30.4MzaMQXHXLfmYk1ZxsZjy7d8StYgVZUsflGISJ_C_a4
Content-Type: application/json

{
  "course_id": 3
}
