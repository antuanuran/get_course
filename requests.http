# Работаем через Postman.
# https://skills-up.postman.co/workspace/skills-up~532ccf51-bc2b-4914-ac2d-6ad0831f096c/overview

# При работе через Swagger: http://127.0.0.1:8000/docs/swagger/
# Token для Swagger:        JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NjQ1MjkxLCJpYXQiOjE3MDcxMDkyOTEsImp0aSI6Ijc3MWU4ZTZhYzFkNzQ4ZDQ4MjBjNTA2ZmRkZTIyNjczIiwidXNlcl9pZCI6NH0.AeRpTjo9gcf4iM0YyysfI0Y-Jd_ilkdhD8gjk_l8uts


# 1. USER (создание, токен, проверка)

### Создание Юзера
POST http://localhost:8000/api/v1/users/
Content-Type: application/json

{
  "email": "admin10@admin.org",
  "password": "develop12345"
}

### Создать TOKEN для Юзера
POST http://localhost:8000/api/v1/auth/jwt/create/
Content-Type: application/json

{
  "email": "admin10@admin.org",
  "password": "develop12345"
}

### Проверка данных Юзера
GET http://localhost:8000/api/v1/users/me/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### Проверка самого Токена
https://jwt.io/
#*********************************************************************************************



# 2. COURSES (Просмотр всех курсов)

### Без авторизации выводится весь список действующих курсов, is_selible=True. При авторизации - добавляются те курсы, которые уже куплены текущим юзером)
GET http://localhost:8000/api/v1/courses/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


# 3. ДИНАМИЧЕСКИЙ ПРОСМОТР с фильтрацией и исключением/добавлением полей:

### 3.1. Исключаем поле "description"
GET http://localhost:8000/api/v1/courses/?exclude[]=description
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE

### 3.2. Добавляем поле
GET http://localhost:8000/api/v1/courses/?exclude[]=description&include[]=lessons.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.3. Добавляем вложенную группу Videos
GET http://localhost:8000/api/v1/courses/?include[]=lessons.videos.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.4. Добавляем вложенную группу Videos
GET http://localhost:8000/api/v1/courses/?include[]=lessons.videos.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE


### 3.5. Добавили вложенного автора
GET http://localhost:8000/api/v1/courses/?include[]=author.*
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE

###
POST http://localhost:8000/api/v1/courses/3/toggle-favourite/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NTYwNjAwLCJpYXQiOjE3MDcwMjQ2MDAsImp0aSI6IjI5NmVkZDA3MTM3ZjQ2ZmY4MTIwNjc5YjE5OWMzNzY5IiwidXNlcl9pZCI6Mn0.v9F4G4yLT1y6bKA2_MS6sV1AU-q_XU2H6iSFngXGINE

###
POST http://localhost:8000/api/v1/purchases/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM4NzQyNjUyLCJpYXQiOjE3MDcyMDY2NTIsImp0aSI6ImY2YjYxNGUwZjQzMzQzNjhiZWZiM2NmNzIyNTM0NDVjIiwidXNlcl9pZCI6NH0.2OrJ11gWyvdiNSvJaJHgBiHqvhPwx5fh6uQ9WgfW1es
Content-Type: application/json

{
  "course_id": 2
}
